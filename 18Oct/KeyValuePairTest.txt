package com.td.mbna.msec.common;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

public class KeyValuePairTest {

    private KeyValuePair keyValuePair;

    @BeforeEach
    public void setUp() {
        keyValuePair = new KeyValuePair();
    }

    @Test
    public void testKeyValuePair() {
        String key = "testKey";
        String value = "testValue";

        // Set key and value
        keyValuePair.setKey(key);
        keyValuePair.setValue(value);

        // Assert that key and value are set correctly
        assertEquals(key, keyValuePair.getKey());
        assertEquals(value, keyValuePair.getValue());
    }

    @Test
    public void testKeyValuePairWithConstructor() {
        String key = "testKey";
        String value = "testValue";

        // Creating an instance using the constructor
        KeyValuePair kvp = new KeyValuePair();
        kvp.setKey(key);
        kvp.setValue(value);

        // Assert that the key and value are correct
        assertEquals(key, kvp.getKey());
        assertEquals(value, kvp.getValue());
    }

    @Test
    public void testSerialization() throws Exception {
        String key = "testKey";
        String value = "testValue";

        keyValuePair.setKey(key);
        keyValuePair.setValue(value);

        // Serialize and deserialize the KeyValuePair object
        java.io.ByteArrayOutputStream baos = new java.io.ByteArrayOutputStream();
        java.io.ObjectOutputStream oos = new java.io.ObjectOutputStream(baos);
        oos.writeObject(keyValuePair);
        oos.flush();
        oos.close();

        java.io.ByteArrayInputStream bais = new java.io.ByteArrayInputStream(baos.toByteArray());
        java.io.ObjectInputStream ois = new java.io.ObjectInputStream(bais);
        KeyValuePair deserializedKvp = (KeyValuePair) ois.readObject();

        // Assert that the deserialized object is equal to the original
        assertEquals(keyValuePair.getKey(), deserializedKvp.getKey());
        assertEquals(keyValuePair.getValue(), deserializedKvp.getValue());
    }
}
